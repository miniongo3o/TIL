# 1005 AWS with guru



S3 : storage. 파일을 올렸을 때, url로 접근이 거부된다?

=> 클라우드 자체의 권한을 확인해보면, 퍼블릭 액세스가 차단되어있기 때문.

가이드에서는 파일에 대해서만 퍼블릭으로 바꾸면된다고하지만,

버킷 자체가 퍼블릭 접근을 막아놨기 때문에 , **(1) 버킷 퍼블릭 허용 (2) 파일을 퍼블릭으로 적용** 순으로 해야한다.



버킷 생성시 버전정보관련 체크했으므로, **개요**에서 **버전 표시**가 가능하다.

(이전 파일을 다운로드하는 것도 가능.)



버킷안에 **같은이름, 다른파일**을 올릴경우, 버저닝이 가능하다.



---

버킷에 html파일을 추가해준다. 



버킷 - 관리 - 수명 주기 규칙 추가.

버킷의 모든 것에 적용한다를 체크하고, S3toGlacier로 명명해준다.

Glacier는, 생명주기동안 사용하지 않는 파일을 따로 보관해주는 것 (?)



현재 파일은 Glacier archive, 이전 버전은 Glacier Deep Archvie.

만료구성 - 이전 버전 영구 삭제 : 기간 후 영구적으로 삭제한다.



설정한 기간 동안 액세스가 없으면, Glacier로 이동시킨다.





AWS S3의 html 파일을 통해서 static 호스팅이 가능하다.

하지만 주소가 굉장히 복잡한데, 이 때문에 Route53을 사용한다.

이 떄 중요한 것은, 호스팅 영역의 이름과 같은 이름의 버킷을 만들어줘야, 

라우트 - 레코드 정의에서 선택이 가능해진다.

![image-20201005173612573](C:\Users\my\AppData\Roaming\Typora\typora-user-images\image-20201005173612573.png)

Route53에서 단순 레코드를 정의하고, 생성하면 새로운 레코드 

" cloud이름.info" - " 유형 A" 가 생길 것이다.

이제 cloud.info로 접속이 가능해진다.

= S3와 Route53서비스를 연동한 것!! ****





www.를 넣어주고 싶다면, 새로운 버킷이름에 www를 넣고 

정적 호스팅 - redirect에 www없는 주소를 넣어준다.





프라이빗과 퍼블릭으로 만들었을 때,

퍼블릭은 액세스를 허용 프라이빗은 비허용인 상태에서

각 버킷에 올려놓은 파일을 "열기"로 열 경우 둘다 보인다.

"관리자"이기 때문에. 하지만 링크로 접속하면 퍼블릭만 보인다.(당연)







오픈스택은...( 3장, 5장을 해보길. )

클라우드환경을 접하기 어렵기 때문에 연습해보는 환경과 같다?



데브스택과 팩스택 - 오픈스택을 쉽게 설치하기 위한..

우분투 - 데브스택

센토스 - 팩스택